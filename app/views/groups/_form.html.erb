<%= render :partial => "shared/generic_errors", :locals => { :object => @group } %>

<%= form_for(@group, :html => { :class => "form-horizontal" }) do |form| %>
  <fieldset>
    <div class="control-group">
      <%= form.label :name, :class => "control-label" %>
      <div class="controls">
        <%= form.text_field :name %>
      </div>
    </div>

    <div class="control-group">
      <%= form.label :description, :class => "control-label" %>
      <div class="controls">
        <%= form.text_field :description %>
      </div>
    </div>

    <div class="control-group">
      <%= form.label :tags, :class => "control-label" %>
      <div class="controls">
        <%= form.text_field :tags %>
      </div>
    </div>

    <div class="control-group">
		<%= form.label :students, :class => "control-label" %>
		<% Student.all.each do |student| %>
		<div class="controls">
			<%= check_box_tag 'group[student_ids][]', student.id, @group.students.include?(student) %>
			<%= student.email %>
		</div>
		<% end %>
	</div>

    <div class="control-group">
		<%= form.label :problems, :class => "control-label" %>
		<% Problem.all.each do |problem| %>
		<div class="controls">
			<%= check_box_tag 'group[problem_ids][]', problem.id, @group.problems.include?(problem) %>
			<%= problem %>
		</div>
		<% end %>
	</div>
	

	<div class="control-group">
		<%= link_to "New problem",  new_problem_path, :class=>"control-btn" %>
	</div>

    <div class="form-actions">
      <button class="btn btn-primary" name="commit" type="submit">Save</button>
      <%= link_to "Cancel", groups_path, :class => "btn" %>
    </div>
  </fieldset>
<% end %>